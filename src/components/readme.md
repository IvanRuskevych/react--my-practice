# React

# Module 3 video 3 HTTP-запрос (react-21-22) - Репета О.

- Основы HTTP-запросов в React
- «Архитектура» компонентов и состояний
- Форма для имени покемона PokemonForm
  - Форму нельзя отправить если имя покемона пустое
  - `react-toastify` для алертов
- Компонент `App`
  - Нужен стейт для хранения имени покемона
- Информация о покемоне `PokemonInfo`
  - Нужей стейт для хранения ответа от бекенда
  - Ендпоинт покемонов `https://pokeapi.co/api/v2/pokemon/имя_покемона`
  - Рендер разметки
    - Если нет имени покемона показывать текст «Введите имя покемона.»
    - Если загружаем то показываем текст «Загружаем...»
    - Если есть покемон, показываем карточку покемона
    - Если загружаем то показываем фолбек компонент
  - Обработка ошибки HTTP-запроса
    - В `fetch` нужно обработать 404 в ответе -->> time 52:15 then(res=> {if
      (res.ok){return res.json()}}) АБО Promise.reject
    - Возвращаем `Promise.reject(new Erorr(Нет покемона с именем имя_покемона))`
    - Нужен стейт для хранения ошибки
    - Если ошибка рендерим разметку ошибки
- Паттерн state machine !time 1:00:00!
  - Плюсы
    - Уходят проблемы сброса полей «чтобы работало».
    - Не нужно следить на значениями N полей.
    - Более понятные условия рендера разметки.
  - Используем статус
    - idle - запроса еще нет
    - pending - пошел запрос
    - resolved - успешный запрос
    - rejected - запрос с ошибкой

<!-- Мої записи -->

- Yup своя валідація, Саша дав посилання ()
- async componentDidMount 4:30
- в componentDidUpdate ніколи нічого нельзя робити без перевірок (if ...) тому
  що отримаєшь зациклювання !!!
- react skeleton смотри на youtube (time 1:22:10)

<!-- timing -->

- 00:00 начало
- 16:30 импорт иконок свг
- 17:20 handleNameChange
- 24:00 убираем поиск по пустой строке
- 26:35 нотификации toastify
- 30:50 инфо о покемоне PokemonName
- 33:40 http запрос для покемона
- 40:00 стейт для хранения ответа от бекенда
- 41:50 рендер разметки:
- 43:00 загружаем...
- 46:55 обрабатываем ошибки
- 50:10 ошибка 404 (error в стейт и catch в fetch), плюс if (response.ok)...
  Promise.reject
- 58:00 если загружаем, убирает предыдущего покемона
- 59:25 убираем лишнее в коде
- 1:00:00 машина состояний
- 1:07:50 плюсы машины состояний
- 1:08:10 рефакторинг кода, разбиваем на компоненты по состоянию
- 1:13:40 если загружаем, превьюшка
- 1:16:50 скелетон
- 1:23:00 fetch выносим в отдельную внешнюю функцию
- 1:39:00 по домашке
- 1:40:00 прерывание http запросов (AbortController)
- 1:45:20 с чего начать учить бэкенд (администрирование линокс систем)
